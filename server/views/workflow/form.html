{{ define "workflow/form.html" }}

{{ template "partials/page_header.html" .}}

<h2>Workflow</h2>

<div class="clearfix">
  <div class="pull-right">
    <a class="btn btn-primary mb-3" href="/workflows/export/{{ .workflow.ID }}" role="button">Export</a>
  </div>
</div>

<!-- This is the form to edit a workflow -->
<form method="post" action="/workflows/edit/{{ .form.ObjectID }}">

    {{ template "partials/input_text.html" dict "field" .form.Fields.Name }}

    {{ template "partials/input_text.html" dict "field" .form.Fields.Description }}

    {{ template "partials/input_select.html" dict "field" .form.Fields.PackageFormat }}

  <div id="jobProfileContainer" style='display: {{ if eq .form.Fields.PackageFormat.Value "BagIt"}} block {{else}} none {{ end }};'>
    {{ template "partials/input_select.html" dict "field" .form.Fields.BagItProfileID }}
  </div>

  <p>Upload To</p>

  {{ template "partials/input_checkbox_group.html" dict "field" .form.Fields.StorageServiceIDs }}

  {{ template "partials/input_hidden.html" dict "field" .form.Fields.ID }}

  {{ template "partials/form_buttons.html" . }}

</form>

<!-- This is the form to delete a workflow -->
<form method="post" action="/workflows/delete/{{ .form.ObjectID }}" id="WorkflowDelete">
  {{ template "partials/input_hidden.html" dict "field" .form.Fields.ID }}
</form>

{{ template "partials/page_footer.html" .}}

{{ end }}
