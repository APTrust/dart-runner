{{ define "partials/nav.html" }}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#Dashboard/show"><img src="assets/img/dart.png" style="height:32px;width:32px;"></img>DART</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav">
        <li class="nav-item {{ if (eq .section "Dashboard") }}active{{ end }}">
          <a class="nav-link" href="#Dashboard/show">Dashboard</span></a>
        </li>
        <li class="nav-item dropdown {{ if (eq .section "Settings")}}active{{ end }}">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Settings</a>
          <div class="dropdown-menu" aria-labelledby="navbarSettingsDropdownLink">
            <a class="dropdown-item" href="#" data-func="AppSettingList">Application Settings</a>
            <a class="dropdown-item" href="#BagItProfile/list">BagIt Profiles</a>
            <a class="dropdown-item" href="#" data-func="InternalSettingList">Internal Settings</a>
            <a class="dropdown-item" href="#" data-func="RemoteRepositoryList">Remote Repositories</a>
            <a class="dropdown-item" href="#StorageService/list">Storage Services</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#Settings/import">Import Settings</a>
            <a class="dropdown-item" href="#Settings/export">Export Settings</a>
          </div>
        </li>
        <li class="nav-item dropdown {{ if (eq .section "Jobs")}}active{{ end }}">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Jobs</a>
          <div class="dropdown-menu" aria-labelledby="navbarJobsDropdownLink">
            <a class="dropdown-item" href="#Job/list">List</a>
            <a class="dropdown-item" href="#Job/new">New</a>
            <a class="dropdown-item" href="#" data-func="JobShowFiles">Test - Show Files</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#BagValidation/show">Validate a Bag</a>
          </div>
        </li>
        <li class="nav-item dropdown {{ if (eq .section "Workflows")}}active{{ end }}">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Workflows</a>
          <div class="dropdown-menu" aria-labelledby="navbarJobsDropdownLink">
            <a class="dropdown-item" href="#Workflow/list">List</a>
            <a class="dropdown-item" href="#Workflow/new">New</a>
            <a class="dropdown-item" href="#WorkflowBatch/new">Run Batch</a>
            <div class="dropdown-divider"></div>
            {{ range $index, $workflow := .workflows }}
            <a class="dropdown-item" href="#Workflow/createJob?workflowId={{ $workflow.ID }}">Run {{ $workflow.Name }}</a>
            {{ end }}
          </div>
        </li>
        <li class="nav-item dropdown {{ if (eq .section "Help")}}active{{ end }}">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Help</a>
          <div class="dropdown-menu" aria-labelledby="navbarHelpDropdownLink">
            <a class="dropdown-item" href="#" data-func="OpenExternal" data-func-param="https://aptrust.github.io/dart-docs/users/getting_started/">Documentation</a>
            <a class="dropdown-item" href="#Plugin/list">List Installed Plugins</a>
            <a class="dropdown-item" href="#Log/show">Logs</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#" data-func="AboutShow">About</a>
          </div>
        </li>
      </ul>
    </div>
    <div class="float-right">
      <span id="runningJobsBadge" class="badge badge-pill badge-info">
        <a href="#Dashboard/show" class="text-white"></a>
      </span>
    </div>
  </nav>
  
  {{ end }}